<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <script>
        // This function shows the musician-related fields when 'musician' is selected
        function showMusicianOptions() {
            var profileType = document.getElementById("profile_type").value;
            var musicianOptions = document.getElementById("musician_options");
            if (profileType === "musician") {
                musicianOptions.style.display = "block";
            } else {
                musicianOptions.style.display = "none";
                // Reset fields when switching from musician to non-musician
                document.getElementById("band_name_field").style.display = "none";
                document.getElementById("soloist_fields").style.display = "none";
                document.getElementById("band_fields").style.display = "none";
                document.getElementById("first_name_field").style.display = "block";
                document.getElementById("last_name_field").style.display = "block";
            }
        }

        // This function shows additional fields based on the musician type (soloist or band)
        function handleMusicianTypeChange() {
            var musicianType = document.getElementById("musician_type").value;
            if (musicianType === "soloist") {
                document.getElementById("soloist_fields").style.display = "block";
                document.getElementById("band_fields").style.display = "none";
                document.getElementById("band_name_field").style.display = "none";
                document.getElementById("first_name_field").style.display = "block";
                document.getElementById("last_name_field").style.display = "block";
            } else if (musicianType === "band") {
                document.getElementById("band_fields").style.display = "block";
                document.getElementById("soloist_fields").style.display = "none";
                document.getElementById("band_name_field").style.display = "block";
                document.getElementById("first_name_field").style.display = "none";
                document.getElementById("last_name_field").style.display = "none";
            }
        }
    </script>
</head>
<body>
    <h1>Register</h1>
    <form method="post" action="/register" enctype="multipart/form-data">
        <label for="profile_type">Profile Type:</label>
        <select id="profile_type" name="profile_type" onchange="showMusicianOptions()" required>
            <option value="">Select...</option>
            <option value="venue">Venue</option>
            <option value="musician">Musician</option>
        </select><br><br>

        <!-- Musician Options, hidden by default -->
        <div id="musician_options" style="display: none;">
            <label for="musician_type">Are you a soloist or part of a band?</label>
            <select id="musician_type" name="musician_type" onchange="handleMusicianTypeChange()">
                <option value="">Select...</option>
                <option value="soloist">Soloist</option>
                <option value="band">Band</option>
            </select><br><br>
            
            <!-- Band Name (visible only if musician type is "band") -->
            <div id="band_name_field" style="display: none;">
                <label for="band_name">Band Name:</label>
                <input type="text" name="band_name" required><br><br>
            </div>

            <!-- Additional fields for Soloist/Band -->
            <div id="soloist_fields" style="display: none;">
                <label for="age">Age:</label>
                <input type="number" name="age"><br><br>
            </div>

            <div id="band_fields" style="display: none;">
                <label for="num_members">Number of Band Members:</label>
                <input type="number" name="num_members"><br><br>
            </div>
        </div>

        <!-- Name Fields (first and last name) -->
        <div id="first_name_field">
            <label for="first_name">First Name:</label>
            <input type="text" name="first_name" required><br><br>
        </div>

        <div id="last_name_field">
            <label for="last_name">Last Name:</label>
            <input type="text" name="last_name" required><br><br>
        </div>

        <label for="email">Email:</label>
        <input type="email" name="email" required><br><br>

        <label for="address">Address:</label>
        <input type="text" name="address"><br><br>

        <label for="phone_number">Phone Number:</label>
        <input type="text" name="phone_number"><br><br>

        <label for="bio">Bio:</label>
        <textarea name="bio"></textarea><br><br>

        <label for="profile_picture">Profile Picture (optional):</label>
        <input type="file" name="profile_picture"><br><br>

        <label for="username">Username:</label>
        <input type="text" name="username" required><br><br>

        <input type="submit" value="Register">
    </form>
</body>
</html>

