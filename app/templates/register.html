<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <script>
        // This function shows the artist-related fields when 'artist' is selected
        function showArtistOptions() {
            var profileType = document.getElementById("profile_type").value;
            var artistOptions = document.getElementById("artist_options");
            if (profileType === "artist") {
                artistOptions.style.display = "block";
            } else {
                artistOptions.style.display = "none";
            }
        }
    </script>
</head>
<body>
    <h1>Register</h1>
    <form method="post" action="/register" enctype="multipart/form-data">
        <label for="profile_type">Profile Type:</label>
        <select id="profile_type" name="profile_type" onchange="showArtistOptions()" required>
            <option value="">Select...</option>
            <option value="venue">Venue</option>
            <option value="artist">Artist</option>
        </select><br><br>

        <!-- Artist Options, hidden by default -->
        <div id="artist_options" style="display: none;">
            <label for="artist_type">Are you a soloist or part of a band?</label>
            <select id="artist_type" name="artist_type">
                <option value="">Select...</option>
                <option value="soloist">Soloist</option>
                <option value="band">Band</option>
            </select><br><br>
            
            <!-- Additional fields for Soloist/Band -->
            <div id="soloist_fields" style="display: none;">
                <label for="age">Age:</label>
                <input type="number" name="age"><br><br>
            </div>

            <div id="band_fields" style="display: none;">
                <label for="num_members">Number of Band Members:</label>
                <input type="number" name="num_members"><br><br>
            </div>
        </div>

        <label for="name">First Name:</label>
        <input type="text" name="name" required><br><br>

        <label for="name">Last Name:</label>
        <input type="text" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" name="email" required><br><br>

        <label for="address">Address:</label>
        <input type="text" name="address"><br><br>

        <label for="phone_number">Phone Number:</label>
        <input type="text" name="phone_number"><br><br>

        <label for="bio">Bio:</label>
        <textarea name="bio"></textarea><br><br>

        <label for="profile_picture">Profile Picture (optional):</label>
        <input type="file" name="profile_picture"><br><br>

        <label for="username">Username:</label>
        <input type="text" name="username" required><br><br>

        <input type="submit" value="Register">
    </form>

    <script>
        // Show additional fields based on artist type
        document.getElementById("artist_type").addEventListener("change", function() {
            var artistType = this.value;
            if (artistType === "soloist") {
                document.getElementById("soloist_fields").style.display = "block";
                document.getElementById("band_fields").style.display = "none";
            } else if (artistType === "band") {
                document.getElementById("band_fields").style.display = "block";
                document.getElementById("soloist_fields").style.display = "none";
            }
        });
    </script>
</body>
</html>
